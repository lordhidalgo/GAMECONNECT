<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Todos nuestros juegos - GameConnect</title>
    <link rel="stylesheet" href="/src/assets/css/games.css">
    <link rel="icon" type="image/png" href="/public/images/logo-2078018_1280.png">
</head>
<body>
    <header>
        <div class="logo">
            <img src="/images/logo-2078018_1280.png" alt="GameConnect Logo" style="height: 50px; width: auto;">
        </div>
        <h1>GameConnect</h1>
        <nav>
            <a href="index.html">Inicio</a>
            <a href="#" style="color: var(--accent-color);">Juegos</a>
            <form class="search-form-header" style="display:inline;">
                <input type="text" id="searchInput" placeholder="Buscar un juego">
            </form>
            
            <button id="btn-ver-carrito" class="icono-carrito" style="background: none; border: none; cursor: pointer; position: relative;">
                <img class="carrito_img" src="/images/shopping-cart-1105049_1280.png" alt=""></img>
                <span id="cart-count">0</span>
            </button>
        </nav>
    </header>

    <main>
        <section class="catalogo">
            <h2>Aquí podrás encontrar todos nuestros juegos.</h2>
            <div class="grid" id="todosJuegosGrid">
                <div class="card">
                    <img src="/images/zeldaimg.avif" alt="Zelda">
                    <div class="card-content">
                        <h3>The Legend of Zelda</h3>
                        <p>Aventura - Nintendo Switch</p>
                        <button class="btn-ver-mas-juego" onclick="mostrarDetalles('The Legend of Zelda', 'Una épica aventura en un mundo abierto lleno de secretos.', '262.000', 'Nintendo Switch')">Ver más</button>
                        <div class="btn-agregar-carrito-container">
                            <button class="btn-agregar-carrito" onclick="agregarAlCarrito('The Legend of Zelda', '262.000')">Agregar al carrito</button>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <img src="/images/godofwar.jpg" alt="God of War">
                    <div class="card-content">
                        <h3>God of War Ragnarok</h3>
                        <p>Acción - PS5</p>
                        <button class="btn-ver-mas-juego" onclick="mostrarDetalles('God of War Ragnarok', 'Kratos y Atreus enfrentan el destino en un mundo nórdico en guerra.', '80.000', 'PS5')">Ver más</button>
                        <div class="btn-agregar-carrito-container">
                            <button class="btn-agregar-carrito" onclick="agregarAlCarrito('God of War Ragnarok', '80.000')">Agregar al carrito</button>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <img src="/images/fifa.avif" alt="FIFA 24">
                    <div class="card-content">
                        <h3>Fc 25</h3>
                        <p>Deportes - PC - Consolas</p>
                        <button class="btn-ver-mas-juego" onclick="mostrarDetalles('Fc 25', 'El juego de fútbol más realista con nuevos modos y gráficos mejorados.', '60.000', 'PC')">Ver más</button>
                        <div class="btn-agregar-carrito-container">
                            <button class="btn-agregar-carrito" onclick="agregarAlCarrito('Fc 25', '60.000')">Agregar al carrito</button>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <img src="/images/forza5.avif" alt="Forza Horizon 5">
                    <div class="card-content">
                        <h3>Forza Horizon 5</h3>
                        <p>Conducción - Xbox Series X</p>
                        <button class="btn-ver-mas-juego" onclick="mostrarDetalles('Forza Horizon 5', 'Explora un mundo abierto en México con cientos de coches.', '198.000', 'Xbox Series X')">Ver más</button>
                        <div class="btn-agregar-carrito-container">
                            <button class="btn-agregar-carrito" onclick="agregarAlCarrito('Forza Horizon 5', '198.000')">Agregar al carrito</button>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <img src="/images/minecraft.webp" alt="Minecraft">
                    <div class="card-content">
                        <h3>Minecraft</h3>
                        <p>Aventura - PC - Consolas</p>
                        <button class="btn-ver-mas-juego" onclick="mostrarDetalles('Minecraft', 'Construye y explora mundos infinitos en este juego de bloques.', '130.000', 'PC')">Ver más</button>
                        <div class="btn-agregar-carrito-container">
                            <button class="btn-agregar-carrito" onclick="agregarAlCarrito('Minecraft', '130.000')">Agregar al carrito</button>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <img src="/images/forniteimg.jpg" alt="Fortnite">
                    <div class="card-content">
                        <h3>Fortnite</h3>
                        <p>Battle Royale - PC - Consolas</p>
                        <button class="btn-ver-mas-juego" onclick="mostrarDetalles('Fortnite', 'Sobrevive y construye en el popular juego de batalla real.', 'GRATIS', 'PC')">Ver más</button>
                        <div class="btn-agregar-carrito-container">
                            <button class="btn-agregar-carrito" onclick="agregarAlCarrito('Fortnite', 'GRATIS')">Agregar al carrito</button>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <img src="/images/cof.avif" alt="Call of Duty: Warzone">
                    <div class="card-content">
                        <h3>Call of Duty: Warzone</h3>
                        <p>Acción - PC - Consolas</p>
                        <button class="btn-ver-mas-juego" onclick="mostrarDetalles('Call of Duty: Warzone', 'Forma equipo o vuela en solitario por entornos enormes; sé el último escuadrón en pie para ganar.', 'GRATIS', 'PC')">Ver más</button>
                        <div class="btn-agregar-carrito-container">
                            <button class="btn-agregar-carrito" onclick="agregarAlCarrito('Call of Duty: Warzone', 'GRATIS')">Agregar al carrito</button>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <img src="/images/Assassins-creed-logo.webp" alt="Assassin's Creed Valhalla">
                    <div class="card-content">
                        <h3>Assassin's Creed Valhalla</h3>
                        <p>Acción - PC - Consolas</p>
                        <button class="btn-ver-mas-juego" onclick="mostrarDetalles('Assassin\'s Creed Valhalla', 'Vive la historia de un vikingo en este emocionante juego de acción y aventura.', '200.000', 'PC')">Ver más</button>
                        <div class="btn-agregar-carrito-container">
                            <button class="btn-agregar-carrito" onclick="agregarAlCarrito('Assassin\'s Creed Valhalla', '200.000')">Agregar al carrito</button>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <img src="/images/Sea_of_Thieves_cover_art.webp" alt="Sea of Thieves">
                    <div class="card-content">
                        <h3>Sea of Thieves</h3>
                        <p>Multijugador - PC - Consolas</p>
                        <button class="btn-ver-mas-juego" onclick="mostrarDetalles('Sea of Thieves', 'Únete a la aventura pirata en este juego multijugador en línea.', '80.000', 'PC')">Ver más</button>
                        <div class="btn-agregar-carrito-container">
                            <button class="btn-agregar-carrito" onclick="agregarAlCarrito('Sea of Thieves', '80.000')">Agregar al carrito</button>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <img src="/images/Valorant_Logo.png" alt="Valorant">
                    <div class="card-content">
                        <h3>Valorant</h3>
                        <p>Acción - PC - Consolas</p>
                        <button class="btn-ver-mas-juego" onclick="mostrarDetalles('Valorant', 'En este juego, los jugadores toman el control de agentes, personajes que representan diversas culturas y nacionalidades de todo el mundo.', 'GRATIS', 'PC')">Ver más</button>
                        <div class="btn-agregar-carrito-container">
                            <button class="btn-agregar-carrito" onclick="agregarAlCarrito('Valorant', 'GRATIS')">Agregar al carrito</button>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <img src="/images/Age-of-Empires-II-Definitive-Edition-imagen.webp" alt="Age of Empires II: Definitive Edition">
                    <div class="card-content">
                        <h3>Age of Empires II</h3>
                        <p>Estrategia - PC</p>
                        <button class="btn-ver-mas-juego" onclick="mostrarDetalles('Age of Empires II: Definitive Edition', 'Revive la clásica saga de estrategia en tiempo real con gráficos mejorados y nuevas civilizaciones.', '28.000', 'PC')">Ver más</button>
                        <div class="btn-agregar-carrito-container">
                            <button class="btn-agregar-carrito" onclick="agregarAlCarrito('Age of Empires II: Definitive Edition', '28.000')">Agregar al carrito</button>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <img src="/images/thesims4img.jpg" alt="The Sims 4">
                    <div class="card-content">
                        <h3>The Sims 4</h3>
                        <p>Simulación - PC - Consolas</p>
                        <button class="btn-ver-mas-juego" onclick="mostrarDetalles('The Sims 4', 'Crea y controla personas en un mundo virtual en este popular juego de simulación.', '15.000', 'PC')">Ver más</button>
                        <div class="btn-agregar-carrito-container">
                            <button class="btn-agregar-carrito" onclick="agregarAlCarrito('The Sims 4', '15.000')">Agregar al carrito</button>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <img src="/images/supermarioimg.png" alt="Super Mario Odyssey">
                    <div class="card-content">
                        <h3>Super Mario Odyssey</h3>
                        <p>Plataformas - Consolas</p>
                        <button class="btn-ver-mas-juego" onclick="mostrarDetalles('Super Mario Odyssey', 'Acompaña a Mario en una aventura por diversos mundos para rescatar a la Princesa Peach.', '200.000', 'Consolas')">Ver más</button>
                        <div class="btn-agregar-carrito-container">
                            <button class="btn-agregar-carrito" onclick="agregarAlCarrito('Super Mario Odyssey', '200.000')">Agregar al carrito</button>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <img src="/images/starfieldimg.jpg" alt="Starfield">
                    <div class="card-content">
                        <h3>Starfield</h3>
                        <p>RPG - PC - Consolas</p>
                        <button class="btn-ver-mas-juego" onclick="mostrarDetalles('Starfield', 'Explora el vasto universo en este esperado RPG de ciencia ficción.', '200.000', 'PC')">Ver más</button>
                        <div class="btn-agregar-carrito-container">
                            <button class="btn-agregar-carrito" onclick="agregarAlCarrito('Starfield', '200.000')">Agregar al carrito</button>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <img src="/images/eldenringimg.webp" alt="Elden Ring">
                    <div class="card-content">
                        <h3>Elden Ring</h3>
                        <p>RPG - PC - Consolas</p>
                        <button class="btn-ver-mas-juego" onclick="mostrarDetalles('Elden Ring', 'Adéntrate en un mundo de fantasía en este aclamado RPG de acción.', '200.000', 'PC')">Ver más</button>
                        <div class="btn-agregar-carrito-container">
                            <button class="btn-agregar-carrito" onclick="agregarAlCarrito('Elden Ring', '200.000')">Agregar al carrito</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <div class="modal" id="modalJuego">
            <div class="modal-content">
                <button class="close-btn" onclick="cerrarModal()">&times;</button>
                <h2 id="modalNombre"></h2>
                <p id="modalDescripcion"></p>
                <p><strong>Precio:</strong> $<span id="modalPrecio"></span></p>
                <p><strong>Consola:</strong> <span id="modalConsola"></span></p>
            </div>
        </div>

        <!-- Modal del carrito de compras -->
        <div id="cart-modal" class="modal">
          <div class="modal-content">
            <button class="close-btn" onclick="cerrarCarrito()">&times;</button>
            <h2>Carrito de Compras</h2>
            <div id="cart-items">
              <!-- Los productos agregados aparecerán aquí -->
            </div>
            <div id="cart-total">
              <p>Total: $<span id="total-amount">0.00</span></p>
            </div>
            <button class="btn-finalizar-compra" onclick="finalizarCompra()">Finalizar compra</button>
          </div>
        </div>
        <div id="toast-container"></div>

    </main>
    <footer>
        <p>&copy; 2025 GameConnect. Todos los derechos reservados.</p>
    </footer>
    <script>
        function mostrarDetalles(nombre, descripcion, precio, consola) {
            document.getElementById('modalNombre').textContent = nombre;
            document.getElementById('modalDescripcion').textContent = descripcion;
            document.getElementById('modalPrecio').textContent = precio;
            document.getElementById('modalConsola').textContent = consola;
            document.getElementById('modalJuego').style.display = 'flex';
        }

        function cerrarModal() {
            document.getElementById('modalJuego').style.display = 'none';
        }

        document.addEventListener('DOMContentLoaded', () => {
            const searchInput = document.getElementById('searchInput');
            const gameCards = document.querySelectorAll('#todosJuegosGrid .card');

            if (searchInput) {
                searchInput.addEventListener('input', (event) => {
                    const searchTerm = event.target.value.toLowerCase();

                    gameCards.forEach(card => {
                        const title = card.querySelector('h3').textContent.toLowerCase();
                        const description = card.querySelector('p').textContent.toLowerCase();

                        if (title.includes(searchTerm) || description.includes(searchTerm)) {
                            card.style.display = '';
                        } else {
                            card.style.display = 'none';
                        }
                    });
                });
            }

            const modalJuego = document.getElementById('modalJuego');
            if (modalJuego) {
                modalJuego.addEventListener('click', (event) => {
                    if (event.target === modalJuego) {
                        cerrarModal();
                    }
                });
            }

            document.addEventListener('keydown', (event) => {
                if (event.key === 'Escape' && modalJuego.style.display === 'flex') {
                    cerrarModal();
                }
            });
        });
    </script>
    <script src="/src/js/gamesCart.js"></script>
</body>
</html>
